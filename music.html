<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä</title>
  </head>
  <body>
    <h1>üé∂ –°–ª—É—á–∞–π–Ω–∞—è –ø–µ—Å–Ω—è</h1>
    <p id="info"></p>
    <audio id="player" controls autoplay></audio>
    <button onclick="loadRandomSong()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>

    <script>
      async function loadRandomSong() {
        const res = await fetch("/random-song");
        const song = await res.json();
        document.getElementById(
          "info"
        ).textContent = `${song.title} ‚Äî ${song.artist}`;
        const player = document.getElementById("player");
        player.src = song.url;
        player.play();
      }

      window.onload = loadRandomSong;
    </script>
  </body>
</html>
